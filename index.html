<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Ishika ‚ù§Ô∏è From Likun</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Parisienne&family=Dancing+Script:wght@600&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.7.14/lottie.min.js"></script>
<style>
body {
  margin:0; padding:0;
  font-family: 'Dancing Script', cursive;
  background: radial-gradient(ellipse at bottom, #0b0c2a 0%, #1a1c4d 100%);
  color:#fff;
  overflow-x:hidden;
  position:relative;
  min-height:100vh;
  text-shadow: 1px 1px 4px rgba(0,0,0,0.8);
  cursor:pointer;
}

/* Lamps */
.lamp {position:absolute;width:20px;height:50px;background:linear-gradient(to bottom,#fff3a0,#f29f05);border-radius:10px;top:50px;}
.lamp::after {content:'';position:absolute;top:50px;left:-5px;width:30px;height:5px;background:rgba(255,255,255,0.2);border-radius:50%;}

/* Flying roses */
.rose {position:absolute;width:30px;animation:float 8s linear infinite;}
@keyframes float {0% {transform:translateY(100vh) rotate(0deg);opacity:0;}10%{opacity:1;}100%{transform:translateY(-50px) rotate(360deg);opacity:0;}}

/* Headers */
h1,h2{text-align:center;font-family:'Great Vibes', cursive;}
h1{font-size:3.5em;margin-top:20px;color:#ffb6c1;}
h2{font-size:2.5em;margin-bottom:20px;color:#ffe4e1;}

/* Sections */
.section{display:none;padding:20px;text-align:center;}

/* Questions */
.questions input{
  width:70%; padding:12px; margin:10px;
  border-radius:25px; border:none;
  box-shadow:0 4px 10px rgba(0,0,0,0.3);
  font-size:1.2em; text-align:center; font-family:'Parisienne', cursive;
  background-color:#ff4b5c; color:#fff;
}
.questions input::placeholder{color:#fff;opacity:0.9;}

/* Buttons */
button{padding:12px 25px; border:none; border-radius:40px;
background:#ff4b5c;color:white;font-size:1.2em;cursor:pointer;margin:15px;transition: transform 0.3s;}
button:hover{transform:scale(1.1);}

/* Postcard */
.postcard{width:350px;height:240px;margin:50px auto;perspective:1000px;}
.postcard-inner{width:100%;height:100%;position:relative;transform-style:preserve-3d;transition:transform 1s;}
.postcard.open .postcard-inner{transform:rotateY(180deg);}
.postcard-front, .postcard-back{
  position:absolute;width:100%;height:100%;backface-visibility:hidden;
  border-radius:20px; box-shadow:0 5px 20px rgba(0,0,0,0.4);
  display:flex; align-items:center; justify-content:center; font-size:1.5em;
  background:#ff4b5c;text-align:center;padding:20px;color:#fff;text-shadow:1px 1px 3px rgba(0,0,0,0.7);
}
.postcard-back{transform:rotateY(180deg); font-size:1.2em;}

/* Character */
#character{width:220px;margin:0 auto;cursor:pointer;}

/* Game */
#gameCanvas{background:rgba(255,248,240,0.9);border:2px solid #ff4b5c;border-radius:20px;margin-top:20px;}

/* Intro popup */
#introPopup{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);
display:flex;align-items:center;justify-content:center;color:#fff;font-size:2em;font-family:'Great Vibes', cursive;text-align:center;padding:20px;z-index:9999;}
#introPopup button{margin-top:20px;font-size:1em;}

/* Confetti */
.confetti-piece{position:absolute;width:10px;height:10px;background:red;opacity:0.8;}
</style>
</head>
<body>

<!-- Intro -->
<div id="introPopup">
  <div>
    <p>Hi Ishika! How are you doing? ü•∞</p>
    <button onclick="startGift()">Start</button>
  </div>
</div>

<!-- Lamps -->
<div class="lamp" style="left:50px;"></div>
<div class="lamp" style="left:150px;"></div>
<div class="lamp" style="left:250px;"></div>
<div class="lamp" style="left:350px;"></div>

<h1>For Ishika ‚ù§Ô∏è</h1>
<h2>From Likun</h2>

<!-- Flying roses -->
<script>
for(let i=0;i<15;i++){
  let rose=document.createElement('img');
  rose.src="https://cdn-icons-png.flaticon.com/512/616/616408.png";
  rose.className="rose";
  rose.style.left=Math.random()*window.innerWidth+'px';
  rose.style.animationDuration=(5+Math.random()*5)+'s';
  document.body.appendChild(rose);
}
</script>

<!-- Character -->
<div id="character"></div>
<p style="text-align:center;color:#fff;">Click me, I‚Äôll smile for you! ü•∞</p>

<!-- Questions -->
<div class="section" id="questionSection">
<h2>Answer These Cute Questions üíï</h2>
<div class="questions">
<input type="text" id="q1" placeholder="What's your favorite color? üåà">
<input type="text" id="q2" placeholder="What's your favorite food? üç∞">
<input type="text" id="q3" placeholder="What's your favorite thing about me, Ishika? ‚ù§Ô∏è">
<input type="text" id="q4" placeholder="If we went on a dream date, where would you take me? üåπ">
<input type="text" id="q5" placeholder="What's the first word you think of when you hear 'Likun'? ü•∞">
<input type="text" id="q6" placeholder="Would you rather cuddle under the stars or dance in the rain? üåå‚òî">
<input type="text" id="q7" placeholder="Your favorite song right now? üé∂">
<input type="text" id="q8" placeholder="What's your dream place to travel? ‚úàÔ∏è">
<input type="text" id="q9" placeholder="If you could give me a cute nickname, what would it be? üòò">
<input type="text" id="q10" placeholder="A small secret you've never told anyone‚Ä¶ üíå">
</div>
<button onclick="showLetter()">Open My Letter üíå</button>
</div>

<!-- Postcard -->
<div class="section" id="letterSection">
<div class="postcard" id="postcard">
<div class="postcard-inner">
<div class="postcard-front">Click to Open üíå</div>
<div class="postcard-back">
<p>Dear Ishika,<br><br>
From the day we started talking, you‚Äôve made my world brighter.  
You‚Äôre my dream, my smile, and my every heartbeat.  
I just want you to know‚Ä¶ you are truly special to me. ‚ù§Ô∏è<br><br>
Forever yours,<br>Likun</p>
</div>
</div>
</div>
<button onclick="showGame()">Play a Cute Game üéÆ</button>
</div>

<!-- Game -->
<div class="section" id="gameSection">
<h2>Catch the Falling Hearts üíñ (Max Score 30)</h2>
<canvas id="gameCanvas" width="400" height="400"></canvas>
</div>

<!-- Suspense Section -->
<div class="section" id="suspenseSection">
<h2>Do you want to open the final letter? üíå</h2>
<div id="suspenseQuestions"></div>
</div>

<!-- Final Heartfelt Letter -->
<div class="section" id="finalLetterSection">
<div class="postcard" id="finalPostcard">
<div class="postcard-inner">
<div class="postcard-front">Click to Open üíñ</div>
<div class="postcard-back">
<p>My Dearest Ishika,<br><br>
Every moment I think of you, my heart smiles. You are the melody in my days, the light in my nights, the dream I never want to end.  
From your laughter to your tiniest quirks, every part of you is magic to me.  
I want to cherish you, protect you, and make you feel the happiest in the world.  
I love you beyond words, beyond time, beyond everything‚Ä¶<br><br>
Forever yours,<br>Likun ‚ù§Ô∏è</p>
</div>
</div>
</div>
</div>

<!-- Music -->
<audio id="bgMusic" loop>
<source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_c9d1b93f0b.mp3" type="audio/mp3">
</audio>

<script>
// Lottie Character
var character = lottie.loadAnimation({
container: document.getElementById('character'),
renderer:'svg',
loop:true,
autoplay:true,
path:"https://assets10.lottiefiles.com/packages/lf20_qp1q7mct.json"
});
document.getElementById('character').addEventListener('click',function(){
alert("Hehe! I‚Äôm smiling because of you, Ishika üíï");
});

// Intro
function startGift(){
  document.getElementById('introPopup').style.display='none';
  document.getElementById('questionSection').style.display='block';
  document.body.removeEventListener('click', playMusic);
  document.getElementById('bgMusic').play();
}
function playMusic(){ document.getElementById('bgMusic').play(); }
document.body.addEventListener('click', playMusic, {once:true});

// Postcard flip
document.getElementById('postcard').addEventListener('click',()=>{document.getElementById('postcard').classList.toggle('open');});
document.getElementById('finalPostcard')?.addEventListener('click',()=>{document.getElementById('finalPostcard').classList.toggle('open');});

// Show Letter
function showLetter(){document.getElementById('questionSection').style.display="none";document.getElementById('letterSection').style.display="block";}
function showGame(){document.getElementById('letterSection').style.display="none";document.getElementById('gameSection').style.display="block"; startGame();}

// Mini Game
let canvas=document.getElementById("gameCanvas"),ctx=canvas.getContext("2d");
let basketX=150, hearts=[], score=0, lastDrop=0, maxScore=30;

// Draw heart
function drawHeart(x,y,size,color){
    ctx.save(); ctx.beginPath();
    let top=size*0.3;
    ctx.moveTo(x,y+top);
    ctx.bezierCurveTo(x,y,x-size/2,y,x-size/2,y+top);
    ctx.bezierCurveTo(x-size/2,y+(size+top)/2,x,y+(size+top)/1.2,x,y+size);
    ctx.bezierCurveTo(x,y+(size+top)/1.2,x+size/2,y+(size+top)/2,x+size/2,y+top);
    ctx.bezierCurveTo(x+size/2,y,x,y,x,y+top);
    ctx.closePath(); ctx.fillStyle=color; ctx.fill(); ctx.restore();
}

function gameLoop(timestamp){
    if(!lastDrop) lastDrop=timestamp;
    let delta=timestamp-lastDrop;
    if(delta>500){hearts.push({x:Math.random()*360+20,y:0,size:20}); lastDrop=timestamp;}
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle="#ff4b5c"; ctx.fillRect(basketX,350,80,20);
    hearts.forEach((h,i)=>{
        drawHeart(h.x,h.y,h.size,"#ff4b5c");
        h.y+=4;
        if(h.y+h.size>350 && h.x>basketX && h.x<basketX+80){score++; hearts.splice(i,1);}
        else if(h.y>canvas.height) hearts.splice(i,1);
    });
    ctx.fillStyle="#000"; ctx.font="18px 'Dancing Script', cursive"; ctx.fillText("Score: "+score,10,25);

    if(score>=maxScore){ endGame(); return;}
    requestAnimationFrame(gameLoop);
}
function startGame(){ requestAnimationFrame(gameLoop); }
document.addEventListener("keydown",e=>{if(e.key==="ArrowLeft"&&basketX>0)basketX-=20;if(e.key==="ArrowRight"&&basketX<320)basketX+=20;});

// Confetti
function createConfetti(){
    for(let i=0;i<150;i++){
        let div=document.createElement("div"); div.className="confetti-piece";
        div.style.left=Math.random()*window.innerWidth+"px";
        div.style.background=`hsl(${Math.random()*360},100%,50%)`;
        document.body.appendChild(div);
        animateConfetti(div);
    }
}
function animateConfetti(div){
    let y=0, x=parseInt(div.style.left), rot=0;
    function fall(){
        y+=5; rot+=5;
        div.style.transform=`translate(${x}px,${y}px) rotate(${rot}deg)`;
        if(y<window.innerHeight) requestAnimationFrame(fall);
        else div.remove();
    }
    requestAnimationFrame(fall);
}

// End Game
function endGame(){
    createConfetti();
    alert("Congrats Ishika! You caught all the hearts! üéâüíñ");
    document.getElementById("gameSection").style.display="none";
    startSuspense();
}

// Suspense Letter
const suspenseQs=["Do you want to open the final letter? üíå","Are you sure? üòè","Do you really want to know my feelings? ‚ù§Ô∏è","Promise to keep it secret? ü§´","Ready to feel all my love? üíï","Final chance to say NO üòÖ"];
let currentQ=0;
function startSuspense(){
    document.getElementById("suspenseSection").style.display="block";
    askNext();
}
function askNext(){
    if(currentQ>=suspenseQs.length){showFinalLetter(); return;}
    let container=document.getElementById("suspenseQuestions");
    container.innerHTML=`<p>${suspenseQs[currentQ]}</p><button onclick="nextQuestion(true)">Yes</button><button onclick="nextQuestion(false)">No</button>`;
}
function nextQuestion(ans){
    currentQ++;
    askNext();
}
function showFinalLetter(){
    document.getElementById("suspenseSection").style.display="none";
    document.getElementById("finalLetterSection").style.display="block";
}
</script>
</body>
</html>
